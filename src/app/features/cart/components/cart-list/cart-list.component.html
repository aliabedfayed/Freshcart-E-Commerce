@if (isLoading) {
@if (cartDetails.data.totalCartPrice!=0) {
<section class="container mx-auto shadow bg-light p-10 my-4">
    <div class="flex justify-between">
        <div>
            <h1 class="text-3xl font-bold my-3">
                {{'cart.shop_cart'|translate}}
            </h1>
            <p class="text-main font-bold my-1">{{'cart.total_cart_price'|translate}} :
                {{cartDetails.data.totalCartPrice}} {{'cart.egp'|translate}}</p>
        </div>
        <div>
            <button (click)="clearCart()" class="bg-red-900 text-white cursor-pointer rounded-2xl p-3">
                {{'cart.clear'|translate}}
            </button>
        </div>
    </div>

    @for (item of cartDetails.data.products; track $index) {
    <app-cart-item [product]="item" (removeProduct)="removeProduct($event)"
        (updateQty)="updateQuantity($event.id,$event.newCount)" />
    }

    <div class="flex flex-col md:flex-row justify-between gap-3 mt-6">
        <button routerLink="/products" class="main-btn opacity-100 w-auto translate-y-0">
            {{'cart.continue_shopping'|translate}}
        </button>
        <button [routerLink]="['/checkout',cartDetails.cartId]"
            class="main-btn opacity-100 w-auto translate-y-0">{{'cart.go_to_checkout'|translate}} <span
                class="ms-2">{{cartDetails.data.totalCartPrice}} {{'cart.egp'|translate}}</span>
        </button>
    </div>
</section>
}@else{
<h2 class="text-main text-xl sm:text-2xl lg:text-3xl text-center my-10">
    {{'cart.no_items_in_cart'|translate}}
</h2>
}
}@else{
<h2 class="text-main text-xl sm:text-2xl lg:text-3xl text-center my-10">
    {{'cart.loading'|translate}}
</h2>
}